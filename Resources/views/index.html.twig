{% extends 'layout.html.twig' %}

{% block body %}
    <div id="welcome">
        <h1><span>Welcome to</span> FitzBundle</h1>
    </div>

    <div id="next">
        <h2>Pick the bundles you need in your application</h2>
        <p>
            After clicking the Install button, please run the following command in your terminal.
        </p>
        <p>
            <code>bin/console fitz:install</code>
        </p>
        <form method="post" action="{{ path('hugo_soltys_fitz_install') }}" name="bundles">
            {% for bundle, infos in availableBundles %}
                <div class="col">
                    <label for="{{ bundle }}">
                        <input type="checkbox" name="{{ bundle }}" id="{{ bundle }}" value="{{ bundle }}" {% if bundle in installedBundles or bundle in installing %}checked disabled{% endif %}>
                        {{ bundle }}
                    </label>
                    <small class="composername">
                        {{ infos.composer_name }}
                    </small>
                    <small class="doclink">
                        <a href="{{ infos.documentation }}" target="_blank">
                            Read the documentation
                        </a>
                    </small>
                    {% if bundle in installedBundles %}
                        <p class="installed">
                            ‚úÖ Installed
                        </p>
                    {% elseif bundle in installing and bundle not in installedBundles %}
                        <p class="installing">
                            üëç Ready to install ...
                        </p>
                    {% else %}
                        <p class="ready">
                            Check to install
                        </p>
                    {% endif %}
                </div>
                {% if loop.index == 3 %}
                    <div class="clear"></div>
                {% endif %}
            {% endfor %}
            <div class="clear"></div>
            <input type="submit" value="Install">
        </form>
    </div>
{% endblock %}